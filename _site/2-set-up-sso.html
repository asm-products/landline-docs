<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>2. Set up SSO</title>
  <meta name="description" content="All the documentation for getting set up with Landline.io
">

  <link href="http://d2v52k3cl9vedd.cloudfront.net/basscss/5.0.0/basscss.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/landline-docs//css/main.css">
  <link rel="canonical" href="http://docs.landline.io/landline-docs//2-set-up-sso.html">
</head>

  <body>
    <a href="/landline-docs/" class="fixed p2">
  <img src="https://d1015h9unskp4y.cloudfront.net/attachments/353037ca-3497-4abe-86ed-61b7843105e9/Landline_Icon_Colour.png" style="max-width: 36px" />
</a>

    <article class="sm-col-9 mx-auto p2">
  <h1 class="landline-grey avenir h0 h0-responsive center">2. Set up SSO</h1>
  <div class="h3">
    <p>You&#39;re almost ready to chat. This is the trickiest part, but then you&#39;ll be home free.</p>

<ol>
<li><p>Set up your routes.</p>

<p>Remember how you had to give us a <strong>single sign-on URL</strong>? Here&#39;s its chance to shine. If you&#39;re using Ruby on Rails, for example, you&#39;ll want to add the following line like the following to your <code>config/routes.rb</code>:</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby">  <span class="c1"># You&#39;ll want to point to your controller and</span>
  <span class="c1"># action on the right-hand side of the hash.</span>
  <span class="c1"># (You can use SingleSignOnController#sso if</span>
  <span class="c1"># you&#39;d like. Really, we won&#39;t mind.</span>

  <span class="n">get</span> <span class="s1">&#39;/sso&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;single_sign_on#sso&#39;</span>
</code></pre></div></li>
<li><p>Set up your controller.</p>

<p>Here&#39;s an <a href="examples/single_sign_on_controller.rb">example controller</a>, which you&#39;re free to use &mdash; you&#39;ll just need to be sure to serialize <code>current_user</code> correctly after the redirects. (At Assembly, we pass around a unique token; Landline will wrap up any query params and send them back to your server securely in the redirect (you <em>are</em> using SSL, right?), so you can stash whatever you want up there.)</p>

<p>Using something other than Rails? We&#39;re working on more examples, and we&#39;d love <a href="https://github.com/asm-products/landline-docs">pull requests</a>.</p></li>
<li><p>What are you waiting for? <a href="/landline-docs//3-set-up-chat-client.html">Set up your chat client</a>!</p></li>
</ol>

  </div>
</article>

    <footer class="p2 bg-white border-top bottom-0 full-width center">
  <p class="mb0">
    <a href="http://landline.io/" class="bold landline-teal">Landline</a>
    is being built with <span class="landline-red">&#10084;</span> on
    <a href="http://assembly.com/landline" class="bold landline-yellow">
      Assembly
    </a>
  </p>
</footer>

  </body>
</html>
